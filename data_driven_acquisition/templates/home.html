{% extends 'base.html' %}

{% block title %}DDA - Home{% endblock %}

{% block content %}
<div class="dhx_sample-container__widget" id="toolbar_container"></div>


<div id="layout_container"></div>


<script>

var layout_config = {
    css: "dhx_layout-cell--bordered",
    rows: [{
        id: "toolbar_cell",
        html: "Header",
        css: "dhx_layout-cell--border_bottom",
        gravity: false,
        height: "60px"
    },
        {
            cols: [{
                id: "sidebar",
                html: "Sidebar",
                gravity: false,
                css: "dhx_layout-cell--border_right",
                width: "200px"
            },
                {
                    rows: [{
                        id: "content",
                        css: "",
                        html: "Content"
                    }, ]
                },
                {
                    id: "rightbar",
                    html: "Aside",
                    gravity: false,
                    css: "dhx_layout-cell--border_left",
                    width: "200px"
                },
            ]
        },
        {
            id: "footer",
            html: "Footer",
            css: "dhx_layout-cell--border_top",
            gravity: false,
            height: "60px"
        }
    ]
};
var layout = new dhx.Layout("layout_container", layout_config);



var toolbar_config = [
    {
        id:"welcome",
        type:"navItem",
        value:"Welcome {{ user.username }}",
        icon:"dxi dxi-menu-right"
    },   
    {
        type:"spacer"
    },
    {
        type: "button",
        icon: "dxi-home",
        value: "home",
        id: "home"
    },
    {
        type: "button",
        icon: "dxi-plus",
        value: "new"
    },
    {
        type: "button",
        icon: "dxi-folder-open",
        value: "open"
    },
    {
        type: "button",
        icon: "dxi-vault",
        value: "save"
    },
    {
        type: "button",
        icon: "dxi dxi-minus-box",
        value: "logout",
        id: "logout"
    }
]
 
var toolbar = new dhx.Toolbar("toolbar_container", {
    css: "dhx_widget--bordered dhx_widget--bg_gray"
    });

toolbar.data.parse(toolbar_config);

layout.cell("sidebar").attach(toolbar);


toolbar.events.on("Click", function(){
        var action = arguments[0];
        if (action == "logout"){
            window.location.href = "{% url 'logout' %}";
        };
        if (action == "welcome"){
            window.location.href = "{% url 'home' %}";
        };
});


</script>
{% endblock %}